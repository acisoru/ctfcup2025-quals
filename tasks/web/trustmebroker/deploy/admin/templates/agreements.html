<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Agreements — Admin Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#9ca3af;--accent:#60a5fa;--border:#1f2937}
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans"}
    header{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;border-bottom:1px solid var(--border);background:rgba(17,24,39,.6);position:sticky;top:0;backdrop-filter:blur(6px)}
    .brand{font-weight:700;letter-spacing:.3px}
    .nav a{display:inline-block;padding:8px 12px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--text)}
    .nav a:hover{border-color:var(--accent);color:var(--accent)}
    main{max-width:1100px;margin:40px auto;padding:0 20px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px 24px 16px;box-shadow:0 10px 30px rgba(0,0,0,.2)}
    h1{margin:0 0 16px;font-size:22px}
    .meta{color:var(--muted);font-size:14px;margin-bottom:16px}
    .error{background:#3f1d1d;border:1px solid #7f1d1d;color:#fecaca;padding:10px 12px;border-radius:10px;margin:0 0 12px}
    table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid var(--border);border-radius:12px;overflow:hidden}
    thead th{background:#0b1220;text-align:left;padding:12px 14px;font-weight:600;border-bottom:1px solid var(--border)}
    tbody td{padding:12px 14px;border-bottom:1px solid var(--border);vertical-align:top}
    tbody tr:last-child td{border-bottom:none}
    .nowrap{white-space:nowrap}
    .id{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;color:#cbd5e1}
    .pager{display:flex;justify-content:space-between;align-items:center;margin-top:14px}
    .pager .info{color:var(--muted);font-size:13px}
    .pager .actions{display:flex;gap:10px}
    .btn{display:inline-block;padding:8px 12px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--text)}
    .btn:hover{border-color:var(--accent);color:var(--accent)}
    .btn.disabled{opacity:.45;pointer-events:none}
    footer{margin:24px 0 10px;text-align:center;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <header>
    <div class="brand">Admin Panel</div>
    <nav class="nav">
      <a href="/agreements">Договоры на рассмотрении</a>
    </nav>
  </header>

  <main>
    <div class="card">
      <h1>Договоры на рассмотрении</h1>
      <div class="meta">Страница {{.page}} • по 10 записей</div>

      {{if .load_err}}
        <div class="error">Ошибка загрузки: {{.load_err}}</div>
      {{end}}

      <table aria-label="Список договоров">
        <thead>
          <tr>
            <th class="nowrap">ID</th>
            <th>ФИО</th>
            <th>Email</th>
            <th class="nowrap">Номер договора</th>
          </tr>
        </thead>
        <tbody>
          {{if .agreements}}
            {{range .agreements}}
              <tr>
                <td class="id nowrap">{{.ID}}</td>
                <td>{{.Fullname}}</td>
                <td class="nowrap">{{.Email}}</td>
                <td class="nowrap">{{.AgreementNumber}}</td>
              </tr>
            {{end}}
          {{else}}
            <tr><td colspan="4" class="meta" style="text-align:center">Записей нет</td></tr>
          {{end}}
        </tbody>
      </table>

      <div class="pager">
        <div class="info">Показаны {{.from}}–{{.to}} из {{.total}}</div>
        <div class="actions">
          {{if .has_prev}}
            <a class="btn" href="/agreements?page={{.prev_page}}">Назад</a>
          {{else}}
            <span class="btn disabled">Назад</span>
          {{end}}
          {{if .has_next}}
            <a class="btn" href="/agreements?page={{.next_page}}">Далее</a>
          {{else}}
            <span class="btn disabled">Далее</span>
          {{end}}
        </div>
      </div>
    </div>

    <footer>© TrustMeBroker</footer>
  </main>
</body>
</html>
